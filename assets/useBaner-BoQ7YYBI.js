import{h as i,u as b,d,e as u,t as o}from"./index-C5bRu15K.js";async function f(e,n=!1){const a=await(await i(`/api/klubb/${e}/baner${n?"?inkluderInaktive=true":""}`)).json();return Array.isArray(a)?a:[]}async function h(e,n,t){await i(`/api/klubb/${e}/baner/${n}`,{method:"PUT",body:JSON.stringify(t)},!0)}async function m(e,n){await i(`/api/klubb/${e}/baner`,{method:"POST",body:JSON.stringify(n)},!0)}function k(e,n=!0){const t=b();function s(){t.invalidateQueries({queryKey:["baner",e]}),t.invalidateQueries({queryKey:["baner",e,!0]}),t.invalidateQueries({queryKey:["baner",e,!1]})}const a=d({queryKey:["baner",e,n],queryFn:()=>f(e,n),enabled:!!e,staleTime:1e3*60*5,onError:r=>o.error(r.message??"Kunne ikke hente baner")}),c=u({mutationFn:r=>m(e,r),onSuccess:()=>{o.success("Bane opprettet"),s()},onError:r=>o.error(r.message??"Kunne ikke opprette bane")}),p=u({mutationFn:({id:r,dto:y})=>h(e,r,y),onSuccess:()=>{o.success("Bane oppdatert"),s()},onError:r=>o.error(r.message??"Kunne ikke oppdatere bane")});return{baner:a.data??[],isLoading:a.isLoading,error:a.error,refetch:a.refetch,opprettBane:c,oppdaterBane:p}}export{k as u};

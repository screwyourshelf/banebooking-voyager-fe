import{r}from"./shadcn-CWEYZx5G.js";import{f as i,S as w}from"./index-BDeAeLEl.js";async function k(t,a=!1){const u=await(await i(`/api/klubb/${t}/baner${a?"?inkluderInaktive=true":""}`)).json();return Array.isArray(u)?u:[]}async function $(t,a,s){await i(`/api/klubb/${t}/baner/${a}`,{method:"PUT",body:JSON.stringify(s)},!0)}async function h(t,a){await i(`/api/klubb/${t}/baner`,{method:"POST",body:JSON.stringify(a)},!0)}async function m(t,a){await i(`/api/klubb/${t}/baner/${a}`,{method:"DELETE"},!0)}async function v(t,a){await i(`/api/klubb/${t}/baner/${a}/aktiver`,{method:"PUT"},!0)}function E(t=!1){const a=r.useContext(w),[s,o]=r.useState([]),[u,c]=r.useState(!0),[p,f]=r.useState(null);async function n(){if(a){c(!0),f(null);try{const e=await k(a,t);o(e)}catch(e){f(e.message),o([])}finally{c(!1)}}}async function y(e,B){a&&(await $(a,e,B),await n())}async function b(e){a&&(await h(a,e),await n())}async function l(e){a&&(await m(a,e),await n())}async function d(e){a&&(await v(a,e),await n())}return r.useEffect(()=>{n()},[a]),{baner:s,isLoading:u,error:p,oppdaterBane:y,opprettBane:b,deaktiverBane:l,aktiverBane:d,refetch:n}}export{E as u};
